"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Base64StringGenerator=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),fcc=String.fromCharCode,_k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Base64StringGenerator={compressToUTF16:_regenerator.default.mark(function compressToUTF16(a){var o,b,d,e,f;return _regenerator.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o=[],f=0,c.delegateYield(this.compress(a),"t0",2);case 2:a=c.t0,b=0;case 4:if(!(b<a.length)){c.next=61;break}if(0!=(511&b)){c.next=8;break}return void(c.next=8);case 8:d=a.charCodeAt(b),c.t1=f++,c.next=0===c.t1?12:1===c.t1?15:2===c.t1?18:3===c.t1?21:4===c.t1?24:5===c.t1?27:6===c.t1?30:7===c.t1?33:8===c.t1?36:9===c.t1?39:10===c.t1?42:11===c.t1?45:12===c.t1?48:13===c.t1?51:14===c.t1?54:57;break;case 12:return o.push(fcc((d>>1)+32)),e=(1&d)<<14,c.abrupt("break",58);case 15:return o.push(fcc(e+(d>>2)+32)),e=(3&d)<<13,c.abrupt("break",58);case 18:return o.push(fcc(e+(d>>3)+32)),e=(7&d)<<12,c.abrupt("break",58);case 21:return o.push(fcc(e+(d>>4)+32)),e=(15&d)<<11,c.abrupt("break",58);case 24:return o.push(fcc(e+(d>>5)+32)),e=(31&d)<<10,c.abrupt("break",58);case 27:return o.push(fcc(e+(d>>6)+32)),e=(63&d)<<9,c.abrupt("break",58);case 30:return o.push(fcc(e+(d>>7)+32)),e=(127&d)<<8,c.abrupt("break",58);case 33:return o.push(fcc(e+(d>>8)+32)),e=(255&d)<<7,c.abrupt("break",58);case 36:return o.push(fcc(e+(d>>9)+32)),e=(511&d)<<6,c.abrupt("break",58);case 39:return o.push(fcc(e+(d>>10)+32)),e=(1023&d)<<5,c.abrupt("break",58);case 42:return o.push(fcc(e+(d>>11)+32)),e=(2047&d)<<4,c.abrupt("break",58);case 45:return o.push(fcc(e+(d>>12)+32)),e=(4095&d)<<3,c.abrupt("break",58);case 48:return o.push(fcc(e+(d>>13)+32)),e=(8191&d)<<2,c.abrupt("break",58);case 51:return o.push(fcc(e+(d>>14)+32)),e=(16383&d)<<1,c.abrupt("break",58);case 54:return o.push(fcc(e+(d>>15)+32,(32767&d)+32)),f=0,c.abrupt("break",58);case 57:return c.abrupt("break",58);case 58:b++,c.next=4;break;case 61:return o.push(fcc(e+32)),c.abrupt("return",o.join(""));case 63:case"end":return c.stop();}},compressToUTF16,this)}),decompressFromUTF16:_regenerator.default.mark(function decompressFromUTF16(a){var o,b,d,e,f;return _regenerator.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:o=[],e=0,f=0;case 1:if(!(f<a.length)){c.next=60;break}if(0!==(f&&511)){c.next=5;break}return void(c.next=5);case 5:d=a.charCodeAt(f)-32,c.t0=e++,c.next=0===c.t0?9:1===c.t0?11:2===c.t0?14:3===c.t0?17:4===c.t0?20:5===c.t0?23:6===c.t0?26:7===c.t0?29:8===c.t0?32:9===c.t0?35:10===c.t0?38:11===c.t0?41:12===c.t0?44:13===c.t0?47:14===c.t0?50:15===c.t0?53:56;break;case 9:return b=d<<1,c.abrupt("break",57);case 11:return o.push(fcc(b|d>>14)),b=(16383&d)<<2,c.abrupt("break",57);case 14:return o.push(fcc(b|d>>13)),b=(8191&d)<<3,c.abrupt("break",57);case 17:return o.push(fcc(b|d>>12)),b=(4095&d)<<4,c.abrupt("break",57);case 20:return o.push(fcc(b|d>>11)),b=(2047&d)<<5,c.abrupt("break",57);case 23:return o.push(fcc(b|d>>10)),b=(1023&d)<<6,c.abrupt("break",57);case 26:return o.push(fcc(b|d>>9)),b=(511&d)<<7,c.abrupt("break",57);case 29:return o.push(fcc(b|d>>8)),b=(255&d)<<8,c.abrupt("break",57);case 32:return o.push(fcc(b|d>>7)),b=(127&d)<<9,c.abrupt("break",57);case 35:return o.push(fcc(b|d>>6)),b=(63&d)<<10,c.abrupt("break",57);case 38:return o.push(fcc(b|d>>5)),b=(31&d)<<11,c.abrupt("break",57);case 41:return o.push(fcc(b|d>>4)),b=(15&d)<<12,c.abrupt("break",57);case 44:return o.push(fcc(b|d>>3)),b=(7&d)<<13,c.abrupt("break",57);case 47:return o.push(fcc(b|d>>2)),b=(3&d)<<14,c.abrupt("break",57);case 50:return o.push(fcc(b|d>>1)),b=(1&d)<<15,c.abrupt("break",57);case 53:return o.push(fcc(b|d)),e=0,c.abrupt("break",57);case 56:return c.abrupt("break",57);case 57:f++,c.next=1;break;case 60:return c.delegateYield(this.decompress(o.join("")),"t1",61);case 61:return c.abrupt("return",c.t1);case 62:case"end":return c.stop();}},decompressFromUTF16,this)}),decompress:_regenerator.default.mark(function decompress(a){var o,b,c,d,e,f,g,h,j,k,l;return _regenerator.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:o=[],j=1,k=a.charCodeAt(0)>>8,l=0;case 4:if(!(j<2*a.length&&(j<2*a.length-1||0===k))){i.next=21;break}if(0!=(511&l++)){i.next=8;break}return void(i.next=8);case 8:0==j%2?(b=a.charCodeAt(j/2)>>8,c=255&a.charCodeAt(j/2),d=j/2+1<a.length?a.charCodeAt(j/2+1)>>8:NaN):(b=255&a.charCodeAt((j-1)/2),(j+1)/2<a.length?(c=a.charCodeAt((j+1)/2)>>8,d=255&a.charCodeAt((j+1)/2)):c=d=NaN),j+=3,e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)||j===2*a.length+1&&k?g=h=64:(isNaN(d)||j===2*a.length&&k)&&(h=64),o.push(_k.charAt(e)),o.push(_k.charAt(f)),o.push(_k.charAt(g)),o.push(_k.charAt(h)),i.next=4;break;case 21:return i.abrupt("return",o.join(""));case 22:case"end":return i.stop();}},decompress)}),compress:_regenerator.default.mark(function compress(a){var o,b,c,d,e,f,g,h,j,k,l,m;return _regenerator.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:o=[],b=1,l=0,m=!1,a=a.replace(/[^A-Za-z0-9+/=]/g,"");case 2:if(!(l<a.length)){i.next=17;break}if(0!==(l&&1023)){i.next=6;break}return void(i.next=6);case 6:g=_k.indexOf(a.charAt(l++)),h=_k.indexOf(a.charAt(l++)),j=_k.indexOf(a.charAt(l++)),k=_k.indexOf(a.charAt(l++)),d=g<<2|h>>4,e=(15&h)<<4|j>>2,f=(3&j)<<6|k,0==b%2?(c=d<<8,m=!0,64!==j&&(o.push(fcc(c|e)),m=!1),64!==k&&(c=f<<8,m=!0)):(o.push(fcc(c|d)),m=!1,64!==j&&(c=e<<8,m=!0),64!==k&&(o.push(fcc(c|f)),m=!1)),b+=3,i.next=2;break;case 17:return void(i.next=19);case 19:return m?(o.push(fcc(c)),o=o.join(""),o=fcc(256|o.charCodeAt(0))+o.substring(1)):o=o.join(""),i.abrupt("return",o);case 21:case"end":return i.stop();}},compress)})};exports.Base64StringGenerator=Base64StringGenerator;