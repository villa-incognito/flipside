"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCallback=getCallback,exports.getNodeCallback=getNodeCallback;var initialized=!1;if("undefined"!=typeof navigator&&"ReactNative"===navigator.product)try{if(!initialized&&global&&!global.requestIdleCallback){initialized=!0;var MAX_TIME=15,callbacks=[];global.requestIdleCallback=function(a){callbacks.push(a)},function(){function a(){var a=Date.now();setImmediate(function(){return b(a)})}function b(){for(var b,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,d={timeRemaining:function timeRemaining(){return MAX_TIME-(Date.now()-c)}};0<callbacks.length&&1<d.timeRemaining();){b=callbacks.pop();try{b(d)}catch(a){console.error(a)}}requestAnimationFrame(a)}requestAnimationFrame(a)}()}}catch(a){}try{if(!initialized&&"undefined"!=typeof window&&!window.requestIdleCallback){initialized=!0;var _MAX_TIME=14,_callbacks=[];window.requestIdleCallback=function(a){_callbacks.push(a)},function(){function a(){var a=Date.now();setTimeout(function(){return b(a)})}function b(){for(var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,c={timeRemaining:function timeRemaining(){return _MAX_TIME-(Date.now()-b)}};0<_callbacks.length&&1<c.timeRemaining();){var d=_callbacks.pop();try{d(c)}catch(a){console.error(a)}}requestAnimationFrame(a)}requestAnimationFrame(a)}()}}catch(a){console.error(a)}var cached=null;function getCallback(){if(cached)return cached;if("undefined"==typeof window)return getNodeCallback();var a=[],b=function(b){a.push(b)};return function(){function b(){var a=Date.now();setTimeout(function(){return c(a)})}function c(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100;requestAnimationFrame(b);for(var d,e={timeRemaining:function timeRemaining(){return 14-(Date.now()-c)}};0<a.length&&1<e.timeRemaining();){d=a.pop();try{d(e)}catch(a){console.error(a)}}}requestAnimationFrame(b)}(),cached=b,b}var nodeCallbacks=[],NODE_MAX_TIME=20;function getNodeCallback(){if(cached)return cached;var a=function(a){nodeCallbacks.push(a)};return setTimeout(endOfWork),cached=a,a}function endOfWork(){for(var a=Date.now(),b={timeRemaining:function timeRemaining(){return NODE_MAX_TIME-(Date.now()-a)}};0<nodeCallbacks.length&&1<b.timeRemaining();){var c=nodeCallbacks.pop();try{c(b)}catch(a){console.error(a)}}nodeCallbacks.length?setImmediate(endOfWork):setTimeout(endOfWork,50)}